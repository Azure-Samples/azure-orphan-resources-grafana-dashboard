{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "grafana",
          "uid": "-- Grafana --"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "id": 99,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 6,
      "panels": [],
      "title": "Overview",
      "type": "row"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 0,
        "y": 1
      },
      "id": 7,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type =~ \"microsoft.web/serverfarms\" and subscriptionId == \"$subscription\" and properties.numberOfSites == 0\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "App Service Plans",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 3,
        "y": 1
      },
      "id": 19,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources \r\n| where type =~ 'microsoft.web/hostingenvironments'  and subscriptionId == \"$subscription\"\r\n| extend servicePlanId = tostring(properties['servicePlan']['id']) \r\n| where servicePlanId == '' or isnull(servicePlanId)\r\n| summarize count(type)\r\n"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "App Service Environments",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 6,
        "y": 1
      },
      "id": 8,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type =~ 'Microsoft.Compute/availabilitySets'\r\n| where properties.virtualMachines == \"[]\" and subscriptionId == \"$subscription\"\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "Availability Sets",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 9,
        "y": 1
      },
      "id": 9,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type has \"microsoft.compute/disks\"\r\n| extend diskState = tostring(properties.diskState)\r\n| where managedBy == \"\" and subscriptionId == \"$subscription\" and not(name endswith \"-ASRReplica\" or name startswith \"ms-asr-\" or name startswith \"asrseeddisk-\")\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "Managed Disks",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 12,
        "y": 1
      },
      "id": 14,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type == \"microsoft.network/loadbalancers\"\r\n| where properties.backendAddressPools == \"[]\" and subscriptionId == \"$subscription\"\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "Load Balancers",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 15,
        "y": 1
      },
      "id": 10,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type == \"microsoft.network/routetables\"\r\n| where isnull(properties.subnets) and subscriptionId == \"$subscription\"\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "Route Tables",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 18,
        "y": 1
      },
      "id": 16,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type =~ 'microsoft.network/applicationgateways' and subscriptionId == \"$subscription\"\r\n| extend backendPoolsCount = array_length(properties.backendAddressPools),SKUName= tostring(properties.sku.name), SKUTier= tostring(properties.sku.tier),SKUCapacity=properties.sku.capacity,backendPools=properties.backendAddressPools , AppGwId = tostring(id)\r\n| project AppGwId, name, SKUName, SKUTier, SKUCapacity\r\n| join (\r\n    resources\r\n    | where type =~ 'microsoft.network/applicationgateways' and subscriptionId == \"$subscription\"\r\n    | mvexpand backendPools = properties.backendAddressPools\r\n    | extend backendIPCount = array_length(backendPools.properties.backendIPConfigurations)\r\n    | extend backendAddressesCount = array_length(backendPools.properties.backendAddresses)\r\n    | extend backendPoolName  = backendPools.properties.backendAddressPools.name\r\n    | extend AppGwId = tostring(id)\r\n    | summarize backendIPCount = sum(backendIPCount) ,backendAddressesCount=sum(backendAddressesCount) by AppGwId\r\n) on AppGwId\r\n| project-away AppGwId1\r\n| where  (backendIPCount == 0 or isempty(backendIPCount)) and (backendAddressesCount==0 or isempty(backendAddressesCount))\r\n| summarize count()"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "Application Gateways",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 21,
        "y": 1
      },
      "id": 18,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type =~ \"microsoft.network/applicationgatewaywebapplicationfirewallpolicies\"\r\n| where subscriptionId == \"$subscription\"\r\n| where isnull(properties.applicationGateways) or properties.applicationGateways == \"[]\"\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "Application Gateway WAF Policies",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 0,
        "y": 6
      },
      "id": 17,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type =~ \"microsoft.network/frontdoorwebapplicationfirewallpolicies\"\r\n  and properties.frontendEndpointLinks== \"[]\" \r\n  and properties.securityPolicyLinks == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "Front Doors WAF Policies",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 3,
        "y": 6
      },
      "id": 20,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type =~ \"microsoft.network/trafficmanagerprofiles\"\r\n  and properties.endpoints == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "Traffic Manager Profiles",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 6,
        "y": 6
      },
      "id": 23,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type == \"microsoft.network/virtualnetworks\"\r\n  and properties.subnets == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "Virtual Networks",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 9,
        "y": 6
      },
      "id": 15,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type =~ \"microsoft.network/virtualnetworks\" and subscriptionId == \"$subscription\"\r\n| extend subnet = properties.subnets\r\n| mv-expand subnet\r\n| extend ipConfigurations = subnet.properties.ipConfigurations\r\n| extend delegations = subnet.properties.delegations\r\n| where isnull(ipConfigurations) and delegations == \"[]\"\r\n| summarize count(subnet)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "Subnets",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 12,
        "y": 6
      },
      "id": 12,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "Resources\r\n| where type has \"microsoft.network/networkinterfaces\"\r\n| where isnull(properties.privateEndpoint)\r\n| where isnull(properties.privateLinkService)\r\n| where properties.hostedWorkloads == \"[]\"\r\n| where properties !has 'virtualmachine'\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "Network Interfaces",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 15,
        "y": 6
      },
      "id": 29,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type =~ \"microsoft.network/virtualnetworkgateways\" and subscriptionId == \"$subscription\"\r\n| extend vpnClientConfiguration = properties.vpnClientConfiguration\r\n| extend Resource = id\r\n| join kind=leftouter (\r\n    resources\r\n    | where type =~ \"microsoft.network/connections\"\r\n    | mv-expand Resource = pack_array(properties.virtualNetworkGateway1.id, properties.virtualNetworkGateway2.id) to typeof(string)\r\n    | project Resource, connectionId = id, ConnectionProperties=properties\r\n    ) on Resource                  \r\n| where isempty(vpnClientConfiguration) and isempty(connectionId)\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "Virtual Network Gateways",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 18,
        "y": 6
      },
      "id": 13,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type == \"microsoft.network/networksecuritygroups\" and subscriptionId == \"$subscription\"\r\n| where isnull(properties.networkInterfaces) and isnull(properties.subnets)\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "Network Security Groups",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 21,
        "y": 6
      },
      "id": 22,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type == \"microsoft.network/natgateways\" and subscriptionId == \"$subscription\"\r\n| where isnull(properties.subnets)\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "NAT Gateways",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 0,
        "y": 11
      },
      "id": 11,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type == \"microsoft.network/publicipaddresses\" and subscriptionId == \"$subscription\"\r\n| where properties.ipConfiguration == \"\" and properties.natGateway == \"\" and properties.publicIPPrefix == \"\"\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "Public IP Addresses",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 3,
        "y": 11
      },
      "id": 26,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type == \"microsoft.network/publicipprefixes\" and subscriptionId == \"$subscription\"\r\n| where properties.ipConfiguration == \"\" and properties.natGateway == \"\"\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "Public IP Prefixes",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 6,
        "y": 11
      },
      "id": 25,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type == \"microsoft.network/ipgroups\" and subscriptionId == \"$subscription\"\r\n| where properties.firewalls == \"[]\" and properties.firewallPolicies == \"[]\"\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "IP Groups",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 9,
        "y": 11
      },
      "id": 27,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type == \"microsoft.network/privatednszones\" and subscriptionId == \"$subscription\"\r\n| where properties.numberOfVirtualNetworkLinks == 0\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "Private DNS Zones",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 12,
        "y": 11
      },
      "id": 28,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type =~ \"microsoft.network/privateendpoints\" and subscriptionId == \"$subscription\"\r\n| extend connection = iff(array_length(properties.manualPrivateLinkServiceConnections) > 0, properties.manualPrivateLinkServiceConnections[0], properties.privateLinkServiceConnections[0])\r\n| extend stateEnum = tostring(connection.properties.privateLinkServiceConnectionState.status)\r\n| where stateEnum == \"Disconnected\"\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "Private Endpoints",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 15,
        "y": 11
      },
      "id": 30,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources \r\n| where type =~ 'Microsoft.Network/privateLinkServices' and subscriptionId == \"$subscription\"\r\n| extend peConnectionsCount = array_length(properties.privateEndpointConnections) \r\n| where peConnectionsCount == 0 \r\n| count"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "Private Link Services",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 18,
        "y": 11
      },
      "id": 24,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resources\r\n| where type =~ 'microsoft.sql/servers/elasticpools' and subscriptionId == \"$subscription\"\r\n| project elasticPoolId = tolower(id), Resource = id, type\r\n| extend Details = pack_all()\r\n| join kind=leftouter (resources\r\n| where type =~ 'Microsoft.Sql/servers/databases' and subscriptionId == \"$subscription\"\r\n| project id, properties\r\n| extend elasticPoolId = tolower(properties.elasticPoolId)) on elasticPoolId\r\n| summarize databaseCount = countif(id != '') by Resource, type\r\n| where databaseCount == 0\r\n| project-away databaseCount\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "SQL Elastic Pools",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "grafana-azure-monitor-datasource",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "dark-red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 21,
        "y": 11
      },
      "id": 160,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.17",
      "targets": [
        {
          "azureMonitor": {
            "allowedTimeGrainsMs": [],
            "timeGrain": "auto"
          },
          "azureResourceGraph": {
            "query": "resourceContainers\r\n| where type == \"microsoft.resources/subscriptions/resourcegroups\" and subscriptionId == \"$subscription\"\r\n| extend rgAndSub = strcat(resourceGroup, \"--\", subscriptionId)\r\n| join kind=leftouter (\r\n    resources\r\n    | extend rgAndSub = strcat(resourceGroup, \"--\", subscriptionId)\r\n    | summarize resourceCount=count() by rgAndSub\r\n) on rgAndSub\r\n| where resourceCount == 0 or isnull(resourceCount)\r\n| summarize count(type)"
          },
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "hide": false,
          "queryType": "Azure Resource Graph",
          "refId": "A",
          "subscriptions": [
            "$subscription"
          ]
        }
      ],
      "title": "Resource Groups",
      "type": "stat"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 16
      },
      "id": 154,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName"
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "type"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Type"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "createdTime"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Created Time"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 375
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Type"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 496
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 14,
            "w": 24,
            "x": 0,
            "y": 17
          },
          "id": 155,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "lastNotNull"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.web/serverfarms\" \r\n  and subscriptionId == \"$subscription\" \r\n  and properties.numberOfSites == 0\r\n| project name, resourceGroup, type, location, id\r\n| order by location asc, name asc, resourceGroup asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "App Service Plans",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources \r\n| where type =~ 'microsoft.web/hostingenvironments' \r\n| extend servicePlanId = tostring(properties['servicePlan']['id']) \r\n| where isnull(servicePlanId) and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, type, location, id\r\n| order by location asc, name asc, resourceGroup asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "App Service Environments",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ 'Microsoft.Compute/availabilitySets'\r\n| where properties.virtualMachines == \"[]\" and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, type, location, id\r\n| order by location asc, name asc, resourceGroup asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Availability Sets",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type has \"microsoft.compute/disks\"\r\n| extend diskState = tostring(properties.diskState)\r\n| where managedBy == \"\" \r\n  and subscriptionId == \"$subscription\" \r\n  and not(name endswith \"-ASRReplica\" or name startswith \"ms-asr-\" or name startswith \"asrseeddisk-\")\r\n| project name, resourceGroup, type, location, id\r\n| order by location asc, name asc, resourceGroup asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Managed Disks",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/loadbalancers\"\r\n| where properties.backendAddressPools == \"[]\" and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, type, location, id \r\n| order by location asc, name asc, resourceGroup asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Load Balancers",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/routetables\"\r\n| where isnull(properties.subnets) and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, type, location, id\r\n| order by location asc, name asc, resourceGroup asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Route Tables",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ 'microsoft.network/applicationgateways' and subscriptionId == \"$subscription\"\r\n| extend backendPoolsCount = array_length(properties.backendAddressPools), skuName= tostring(properties.sku.name), skuTier= tostring(properties.sku.tier),skuCapacity=properties.sku.capacity,backendPools=properties.backendAddressPools , id = tostring(id)\r\n| project id, name, resourceGroup, type, location, skuName, skuTier, skuCapacity \r\n| join (\r\n    resources\r\n    | where type =~ 'microsoft.network/applicationgateways' and subscriptionId == \"$subscription\"\r\n    | mvexpand backendPools = properties.backendAddressPools\r\n    | extend backendIPCount = array_length(backendPools.properties.backendIPConfigurations)\r\n    | extend backendAddressesCount = array_length(backendPools.properties.backendAddresses)\r\n    | extend backendPoolName  = backendPools.properties.backendAddressPools.name\r\n    | extend id = tostring(id)\r\n    | summarize backendIPCount = sum(backendIPCount) ,backendAddressesCount=sum(backendAddressesCount) by id, name, resourceGroup, type, location\r\n) on id\r\n| project-away id1\r\n| where  (backendIPCount == 0 or isempty(backendIPCount)) and (backendAddressesCount==0 or isempty(backendAddressesCount))\r\n| project name, resourceGroup, type, location, id \r\n| order by location asc, name asc, resourceGroup asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Application Gateways",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/applicationgatewaywebapplicationfirewallpolicies\"\r\n| where subscriptionId == \"$subscription\"\r\n| where isnull(properties.applicationGateways) or properties.applicationGateways == \"[]\"\r\n| project name, resourceGroup, type, location, id \r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Application Gateway WAF Policies",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/frontdoorwebapplicationfirewallpolicies\"\r\n  and properties.frontendEndpointLinks== \"[]\" \r\n  and properties.securityPolicyLinks == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, type, location, id \r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Front Door WAF Policies",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/trafficmanagerprofiles\"\r\n  and properties.endpoints == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, type, location, id \r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Traffic Manager Profiles",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/virtualnetworks\"\r\n  and properties.subnets == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, type, location, id \r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Virtual Networks",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/virtualnetworks\" and subscriptionId == \"$subscription\"\r\n| extend subnet = properties.subnets\r\n| mv-expand subnet\r\n| extend ipConfigurations = subnet.properties.ipConfigurations, \r\n         delegations = subnet.properties.delegations,\r\n         subnetName = tostring(subnet.name)\r\n| where isnull(ipConfigurations) and delegations == \"[]\"\r\n| project name = strcat(name, \"/\", subnetName), \r\n          resourceGroup, \r\n          type = \"microsoft.network/virtualnetworks/subnets\", \r\n          location, \r\n          id=strcat(id, \"/subnets/\", subnetName)\r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Subnets",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type has \"microsoft.network/networkinterfaces\" and subscriptionId == \"$subscription\"\r\n| where isnull(properties.privateEndpoint)\r\n| where isnull(properties.privateLinkService)\r\n| where properties.hostedWorkloads == \"[]\"\r\n| where properties !has 'virtualmachine'\r\n| project name, resourceGroup, type, location, id \r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Network Interfaces",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/networksecuritygroups\" and subscriptionId == \"$subscription\"\r\n| where isnull(properties.networkInterfaces) and isnull(properties.subnets)\r\n| project name, resourceGroup, type, location, id \r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Network Security Groups",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/natgateways\" and subscriptionId == \"$subscription\"\r\n| where isnull(properties.subnets)\r\n| project name, resourceGroup, type, location, id \r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/publicipaddresses\" and subscriptionId == \"$subscription\"\r\n| where properties.ipConfiguration == \"\" and properties.natGateway == \"\" and properties.publicIPPrefix == \"\"\r\n| project name, resourceGroup, type, location, id \r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Public IP Addresses",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/publicipprefixes\" and subscriptionId == \"$subscription\"\r\n| where properties.ipConfiguration == \"\" and properties.natGateway == \"\"\r\n| project name, resourceGroup, type, location, id \r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Public IP Prefixes",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/ipgroups\" and subscriptionId == \"$subscription\"\r\n| where properties.firewalls == \"[]\" and properties.firewallPolicies == \"[]\"\r\n| project name, resourceGroup, type, location, id \r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "IP Groups",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/privatednszones\" and subscriptionId == \"$subscription\"\r\n| where properties.numberOfVirtualNetworkLinks == 0\r\n| project name, resourceGroup, type, location, id \r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Private DNS Zones",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/privateendpoints\" and subscriptionId == \"$subscription\"\r\n| extend connection = iff(array_length(properties.manualPrivateLinkServiceConnections) > 0, properties.manualPrivateLinkServiceConnections[0], properties.privateLinkServiceConnections[0])\r\n| extend stateEnum = tostring(connection.properties.privateLinkServiceConnectionState.status)\r\n| where stateEnum == \"Disconnected\"\r\n| project name, resourceGroup, type, location, id \r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Private Endpoints",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources \r\n| where type =~ 'Microsoft.Network/privateLinkServices' and subscriptionId == \"$subscription\"\r\n| extend peConnectionsCount = array_length(properties.privateEndpointConnections) \r\n| where peConnectionsCount == 0\r\n| project name, resourceGroup, type, location, id \r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Private Link Services",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ 'microsoft.sql/servers/elasticpools' and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, type, location, id, elasticPoolId = tolower(id)\r\n| extend Details = pack_all()\r\n| join kind=leftouter (resources\r\n| where type =~ 'Microsoft.Sql/servers/databases' and subscriptionId == \"$subscription\"\r\n| project id, properties\r\n| extend elasticPoolId = tolower(properties.elasticPoolId)) on elasticPoolId\r\n| summarize databaseCount = countif(id != '') by name, id, type, location\r\n| where databaseCount == 0\r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "SQL Elastic Pools",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resourceContainers\r\n| where type == \"microsoft.resources/subscriptions/resourcegroups\" and subscriptionId == \"$subscription\"\r\n| extend rgAndSub = strcat(resourceGroup, \"--\", subscriptionId)\r\n| join kind=leftouter (\r\n    resources\r\n    | extend rgAndSub = strcat(resourceGroup, \"--\", subscriptionId)\r\n    | summarize resourceCount=count() by rgAndSub\r\n) on rgAndSub\r\n| where resourceCount == 0 or isnull(resourceCount)\r\n| project name, resourceGroup, type, location, id "
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Resource Groups",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Orphan Resources",
          "transformations": [
            {
              "id": "merge",
              "options": {}
            }
          ],
          "type": "table"
        }
      ],
      "title": "Resources",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 17
      },
      "id": 159,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "count (sum)"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Count"
                  },
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "lcd",
                      "type": "gauge",
                      "valueDisplayMode": "text"
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "mode": "continuous-YlRd"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 19,
            "w": 12,
            "x": 0,
            "y": 18
          },
          "id": 157,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": true
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.web/serverfarms\" \r\n  and subscriptionId == \"$subscription\" \r\n  and properties.numberOfSites == 0\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "App Service Plans",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources \r\n| where type =~ 'microsoft.web/hostingenvironments' \r\n| extend servicePlanId = tostring(properties['servicePlan']['id']) \r\n| where isnull(servicePlanId) and subscriptionId == \"$subscription\"\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "App Service Environments",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ 'Microsoft.Compute/availabilitySets'\r\n| where properties.virtualMachines == \"[]\" and subscriptionId == \"$subscription\"\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Availability Sets",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type has \"microsoft.compute/disks\"\r\n| extend diskState = tostring(properties.diskState)\r\n| where managedBy == \"\" \r\n  and subscriptionId == \"$subscription\" \r\n  and not(name endswith \"-ASRReplica\" or name startswith \"ms-asr-\" or name startswith \"asrseeddisk-\")\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Managed Disks",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/loadbalancers\"\r\n| where properties.backendAddressPools == \"[]\" and subscriptionId == \"$subscription\"\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Load Balancers",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/routetables\"\r\n| where isnull(properties.subnets) and subscriptionId == \"$subscription\"\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Route Tables",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ 'microsoft.network/applicationgateways' and subscriptionId == \"$subscription\"\r\n| extend backendPoolsCount = array_length(properties.backendAddressPools), skuName= tostring(properties.sku.name), skuTier= tostring(properties.sku.tier),skuCapacity=properties.sku.capacity,backendPools=properties.backendAddressPools , id = tostring(id)\r\n| project id, name, resourceGroup, type, location, skuName, skuTier, skuCapacity \r\n| join (\r\n    resources\r\n    | where type =~ 'microsoft.network/applicationgateways' and subscriptionId == \"$subscription\"\r\n    | mvexpand backendPools = properties.backendAddressPools\r\n    | extend backendIPCount = array_length(backendPools.properties.backendIPConfigurations)\r\n    | extend backendAddressesCount = array_length(backendPools.properties.backendAddresses)\r\n    | extend backendPoolName  = backendPools.properties.backendAddressPools.name\r\n    | extend id = tostring(id)\r\n    | summarize backendIPCount = sum(backendIPCount) ,backendAddressesCount=sum(backendAddressesCount) by id, name, resourceGroup, type, location\r\n) on id\r\n| project-away id1\r\n| where  (backendIPCount == 0 or isempty(backendIPCount)) and (backendAddressesCount==0 or isempty(backendAddressesCount))\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Application Gateways",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/applicationgatewaywebapplicationfirewallpolicies\"\r\n| where subscriptionId == \"$subscription\"\r\n| where isnull(properties.applicationGateways) or properties.applicationGateways == \"[]\"\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Application Gateway WAF Policies",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/frontdoorwebapplicationfirewallpolicies\"\r\n  and properties.frontendEndpointLinks== \"[]\" \r\n  and properties.securityPolicyLinks == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Front Door WAF Policies",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/trafficmanagerprofiles\"\r\n  and properties.endpoints == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Traffic Manager Profiles",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/virtualnetworks\"\r\n  and properties.subnets == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Virtual Networks",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/virtualnetworks\" and subscriptionId == \"$subscription\"\r\n| extend subnet = properties.subnets\r\n| mv-expand subnet\r\n| extend ipConfigurations = subnet.properties.ipConfigurations, \r\n         delegations = subnet.properties.delegations,\r\n         subnetName = tostring(subnet.name)\r\n| where isnull(ipConfigurations) and delegations == \"[]\"\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Subnets",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type has \"microsoft.network/networkinterfaces\" and subscriptionId == \"$subscription\"\r\n| where isnull(properties.privateEndpoint)\r\n| where isnull(properties.privateLinkService)\r\n| where properties.hostedWorkloads == \"[]\"\r\n| where properties !has 'virtualmachine'\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Network Interfaces",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/networksecuritygroups\" and subscriptionId == \"$subscription\"\r\n| where isnull(properties.networkInterfaces) and isnull(properties.subnets)\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Network Security Groups",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/natgateways\" and subscriptionId == \"$subscription\"\r\n| where isnull(properties.subnets)\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/publicipaddresses\" and subscriptionId == \"$subscription\"\r\n| where properties.ipConfiguration == \"\" and properties.natGateway == \"\" and properties.publicIPPrefix == \"\"\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Public IP Addresses",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/publicipprefixes\" and subscriptionId == \"$subscription\"\r\n| where properties.ipConfiguration == \"\" and properties.natGateway == \"\"\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Public IP Prefixes",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/ipgroups\" and subscriptionId == \"$subscription\"\r\n| where properties.firewalls == \"[]\" and properties.firewallPolicies == \"[]\"\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "IP Groups",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/privatednszones\" and subscriptionId == \"$subscription\"\r\n| where properties.numberOfVirtualNetworkLinks == 0\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Private DNS Zones",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/privateendpoints\" and subscriptionId == \"$subscription\"\r\n| extend connection = iff(array_length(properties.manualPrivateLinkServiceConnections) > 0, properties.manualPrivateLinkServiceConnections[0], properties.privateLinkServiceConnections[0])\r\n| extend stateEnum = tostring(connection.properties.privateLinkServiceConnectionState.status)\r\n| where stateEnum == \"Disconnected\"\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Private Endpoints",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources \r\n| where type =~ 'Microsoft.Network/privateLinkServices' and subscriptionId == \"$subscription\"\r\n| extend peConnectionsCount = array_length(properties.privateEndpointConnections) \r\n| where peConnectionsCount == 0\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Private Link Services",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ 'microsoft.sql/servers/elasticpools' and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, type, location, id, elasticPoolId = tolower(id)\r\n| extend Details = pack_all()\r\n| join kind=leftouter (resources\r\n| where type =~ 'Microsoft.Sql/servers/databases' and subscriptionId == \"$subscription\"\r\n| project id, properties\r\n| extend elasticPoolId = tolower(properties.elasticPoolId)) on elasticPoolId\r\n| summarize databaseCount = countif(id != '') by name, id, type, location\r\n| where databaseCount == 0\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "SQL Elastic Pools",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resourceContainers\r\n| where type == \"microsoft.resources/subscriptions/resourcegroups\" and subscriptionId == \"$subscription\"\r\n| extend rgAndSub = strcat(resourceGroup, \"--\", subscriptionId)\r\n| join kind=leftouter (\r\n    resources\r\n    | extend rgAndSub = strcat(resourceGroup, \"--\", subscriptionId)\r\n    | summarize resourceCount=count() by rgAndSub\r\n) on rgAndSub\r\n| where resourceCount == 0 or isnull(resourceCount)\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Resource Groups",
              "subscriptions": [
                "1a45a694-ae23-4650-9774-89a571c462f6"
              ]
            }
          ],
          "title": "Orphan Resources Total by Location",
          "transformations": [
            {
              "id": "merge",
              "options": {}
            },
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "count": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "location": {
                    "aggregations": [],
                    "operation": "groupby"
                  }
                }
              }
            },
            {
              "id": "sortBy",
              "options": {
                "fields": {},
                "sort": [
                  {
                    "desc": true,
                    "field": "count (sum)"
                  }
                ]
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "count (sum)"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Total"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 19,
            "w": 12,
            "x": 12,
            "y": 18
          },
          "id": 158,
          "options": {
            "basemap": {
              "config": {
                "server": "streets"
              },
              "name": "Layer 0",
              "type": "esri-xyz"
            },
            "controls": {
              "mouseWheelZoom": true,
              "showAttribution": true,
              "showDebug": false,
              "showMeasure": false,
              "showScale": false,
              "showZoom": true
            },
            "layers": [
              {
                "config": {
                  "showLegend": true,
                  "style": {
                    "color": {
                      "fixed": "purple"
                    },
                    "opacity": 0.5,
                    "rotation": {
                      "field": "count (sum)",
                      "fixed": 0,
                      "max": 360,
                      "min": -360,
                      "mode": "mod"
                    },
                    "size": {
                      "field": "count (sum)",
                      "fixed": 5,
                      "max": 10,
                      "min": 1
                    },
                    "symbol": {
                      "fixed": "img/icons/marker/circle.svg",
                      "mode": "fixed"
                    },
                    "text": {
                      "fixed": "",
                      "mode": "field"
                    },
                    "textConfig": {
                      "fontSize": 12,
                      "offsetX": 0,
                      "offsetY": 0,
                      "textAlign": "center",
                      "textBaseline": "middle"
                    }
                  }
                },
                "location": {
                  "lookup": "location",
                  "mode": "lookup"
                },
                "name": "Orphan Resources",
                "tooltip": true,
                "type": "markers"
              }
            ],
            "tooltip": {
              "mode": "details"
            },
            "view": {
              "allLayers": true,
              "id": "zero",
              "lat": 0,
              "lon": 0,
              "zoom": 2
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.web/serverfarms\" \r\n  and subscriptionId == \"$subscription\" \r\n  and properties.numberOfSites == 0\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "App Service Plans",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources \r\n| where type =~ 'microsoft.web/hostingenvironments' \r\n| extend servicePlanId = tostring(properties['servicePlan']['id']) \r\n| where isnull(servicePlanId) and subscriptionId == \"$subscription\"\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "App Service Environments",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ 'Microsoft.Compute/availabilitySets'\r\n| where properties.virtualMachines == \"[]\" and subscriptionId == \"$subscription\"\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Availability Sets",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type has \"microsoft.compute/disks\"\r\n| extend diskState = tostring(properties.diskState)\r\n| where managedBy == \"\" \r\n  and subscriptionId == \"$subscription\" \r\n  and not(name endswith \"-ASRReplica\" or name startswith \"ms-asr-\" or name startswith \"asrseeddisk-\")\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Managed Disks",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/loadbalancers\"\r\n| where properties.backendAddressPools == \"[]\" and subscriptionId == \"$subscription\"\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Load Balancers",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/routetables\"\r\n| where isnull(properties.subnets) and subscriptionId == \"$subscription\"\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Route Tables",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ 'microsoft.network/applicationgateways' and subscriptionId == \"$subscription\"\r\n| extend backendPoolsCount = array_length(properties.backendAddressPools), skuName= tostring(properties.sku.name), skuTier= tostring(properties.sku.tier),skuCapacity=properties.sku.capacity,backendPools=properties.backendAddressPools , id = tostring(id)\r\n| project id, name, resourceGroup, type, location, skuName, skuTier, skuCapacity \r\n| join (\r\n    resources\r\n    | where type =~ 'microsoft.network/applicationgateways' and subscriptionId == \"$subscription\"\r\n    | mvexpand backendPools = properties.backendAddressPools\r\n    | extend backendIPCount = array_length(backendPools.properties.backendIPConfigurations)\r\n    | extend backendAddressesCount = array_length(backendPools.properties.backendAddresses)\r\n    | extend backendPoolName  = backendPools.properties.backendAddressPools.name\r\n    | extend id = tostring(id)\r\n    | summarize backendIPCount = sum(backendIPCount) ,backendAddressesCount=sum(backendAddressesCount) by id, name, resourceGroup, type, location\r\n) on id\r\n| project-away id1\r\n| where  (backendIPCount == 0 or isempty(backendIPCount)) and (backendAddressesCount==0 or isempty(backendAddressesCount))\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Application Gateways",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/applicationgatewaywebapplicationfirewallpolicies\"\r\n| where subscriptionId == \"$subscription\"\r\n| where isnull(properties.applicationGateways) or properties.applicationGateways == \"[]\"\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Application Gateway WAF Policies",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/frontdoorwebapplicationfirewallpolicies\"\r\n  and properties.frontendEndpointLinks== \"[]\" \r\n  and properties.securityPolicyLinks == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| summarize count = count(type) by location = \"United States\""
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Front Door WAF Policies",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/trafficmanagerprofiles\"\r\n  and properties.endpoints == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Traffic Manager Profiles",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/virtualnetworks\"\r\n  and properties.subnets == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Virtual Networks",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/virtualnetworks\" and subscriptionId == \"$subscription\"\r\n| extend subnet = properties.subnets\r\n| mv-expand subnet\r\n| extend ipConfigurations = subnet.properties.ipConfigurations, \r\n         delegations = subnet.properties.delegations,\r\n         subnetName = tostring(subnet.name)\r\n| where isnull(ipConfigurations) and delegations == \"[]\"\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Subnets",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type has \"microsoft.network/networkinterfaces\" and subscriptionId == \"$subscription\"\r\n| where isnull(properties.privateEndpoint)\r\n| where isnull(properties.privateLinkService)\r\n| where properties.hostedWorkloads == \"[]\"\r\n| where properties !has 'virtualmachine'\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Network Interfaces",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/networksecuritygroups\" and subscriptionId == \"$subscription\"\r\n| where isnull(properties.networkInterfaces) and isnull(properties.subnets)\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Network Security Groups",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/natgateways\" and subscriptionId == \"$subscription\"\r\n| where isnull(properties.subnets)\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/publicipaddresses\" and subscriptionId == \"$subscription\"\r\n| where properties.ipConfiguration == \"\" and properties.natGateway == \"\" and properties.publicIPPrefix == \"\"\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Public IP Addresses",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/publicipprefixes\" and subscriptionId == \"$subscription\"\r\n| where properties.ipConfiguration == \"\" and properties.natGateway == \"\"\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Public IP Prefixes",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/ipgroups\" and subscriptionId == \"$subscription\"\r\n| where properties.firewalls == \"[]\" and properties.firewallPolicies == \"[]\"\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "IP Groups",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/privatednszones\" and subscriptionId == \"$subscription\"\r\n| where properties.numberOfVirtualNetworkLinks == 0\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Private DNS Zones",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/privateendpoints\" and subscriptionId == \"$subscription\"\r\n| extend connection = iff(array_length(properties.manualPrivateLinkServiceConnections) > 0, properties.manualPrivateLinkServiceConnections[0], properties.privateLinkServiceConnections[0])\r\n| extend stateEnum = tostring(connection.properties.privateLinkServiceConnectionState.status)\r\n| where stateEnum == \"Disconnected\"\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Private Endpoints",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources \r\n| where type =~ 'Microsoft.Network/privateLinkServices' and subscriptionId == \"$subscription\"\r\n| extend peConnectionsCount = array_length(properties.privateEndpointConnections) \r\n| where peConnectionsCount == 0\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Private Link Services",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ 'microsoft.sql/servers/elasticpools' and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, type, location, id, elasticPoolId = tolower(id)\r\n| extend Details = pack_all()\r\n| join kind=leftouter (resources\r\n| where type =~ 'Microsoft.Sql/servers/databases' and subscriptionId == \"$subscription\"\r\n| project id, properties\r\n| extend elasticPoolId = tolower(properties.elasticPoolId)) on elasticPoolId\r\n| summarize databaseCount = countif(id != '') by name, id, type, location\r\n| where databaseCount == 0\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "SQL Elastic Pools",
              "subscriptions": [
                "$subscription"
              ]
            },
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resourceContainers\r\n| where type == \"microsoft.resources/subscriptions/resourcegroups\" and subscriptionId == \"$subscription\"\r\n| extend rgAndSub = strcat(resourceGroup, \"--\", subscriptionId)\r\n| join kind=leftouter (\r\n    resources\r\n    | extend rgAndSub = strcat(resourceGroup, \"--\", subscriptionId)\r\n    | summarize resourceCount=count() by rgAndSub\r\n) on rgAndSub\r\n| where resourceCount == 0 or isnull(resourceCount)\r\n| summarize count = count(type) by location = case(location in (\"eastus\", \"eastus2\", \"centralus\", \"westus2\", \"westus3\", \"southcentralus\", \"unitedstates\", \"unitedstateseuap\"), \"United States\",\r\n                                                   location in (\"australiaeast\", \"australiacentral\", \"australiacentral2\", \"australiasoutheast\"), \"Australia\",\r\n                                                   location == \"northeurope\", \"Ireland\",\r\n                                                   location == \"westeurope\", \"Netherlands\",\r\n                                                   location == \"southeastasia\", \"Singapore\",\r\n                                                   location == \"swedencentral\", \"Sweden\",\r\n                                                   location in (\"uksouth\", \"ukwest\"), \"United Kingdom\",\r\n                                                   location in (\"southindia\", \"westindia\", \"centralindia\"), \"India\",\r\n                                                   location == \"eastasia\", \"Hong Kong\",\r\n                                                   location in (\"japaneast\", \"japanwest\"), \"Japan\",\r\n                                                   location in (\"koreacentral\", \"koreasouth\"), \"Korea\",\r\n                                                   location in (\"canadacentral\", \"canadaeast\"), \"Canada\",\r\n                                                   location in (\"francecentral\", \"francesouth\"), \"France\",\r\n                                                   location in (\"germanywestcentral\", \"germanynorth\"), \"Germany\",\r\n                                                   location == \"italynorth\", \"Italy\",\r\n                                                   location in (\"norwayeast\", \"norwaywest\"), \"Norway\",\r\n                                                   location == \"polandcentral\", \"Poland\",\r\n                                                   location in (\"switzerlandnorth\", \"switzerlandwest\"), \"Switzerland\",\r\n                                                   location in (\"uaenorth\", \"uaecentral\"), \"United Arab Emirates\",\r\n                                                   location in (\"brazilsouth\", \"brazilsoutheast\", \"brazilus\"), \"Brazil\",\r\n                                                   location == \"israelcentral\", \"Israel\",\r\n                                                   location == \"qatarcentral\", \"Qatar\",\r\n                                                   location in (\"southafricawest\", \"southafricanorth\"), \"South Africa\",\r\n                                                   location)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "Resource Groups",
              "subscriptions": [
                "1a45a694-ae23-4650-9774-89a571c462f6"
              ]
            }
          ],
          "title": "Orphan Resources Map",
          "transformations": [
            {
              "id": "merge",
              "options": {}
            },
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "count": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "location": {
                    "aggregations": [],
                    "operation": "groupby"
                  }
                }
              }
            }
          ],
          "type": "geomap"
        }
      ],
      "title": "Statistics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 18
      },
      "id": 5,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 20
          },
          "id": 31,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.web/serverfarms\"\r\n| where properties.numberOfSites == 0 and subscriptionId == \"$subscription\"\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "sku_name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "SKU Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "sku_tier"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "SKU Tier"
                  },
                  {
                    "id": "custom.width",
                    "value": 120
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "properties_createdTime"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Created Time"
                  },
                  {
                    "id": "custom.width",
                    "value": 180
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 24,
            "w": 21,
            "x": 3,
            "y": 20
          },
          "id": 41,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.web/serverfarms\"\r\n| where properties.numberOfSites == 0 and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, location, todatetime(properties.createdTime), tostring(sku.name), tostring(sku.tier), id"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 26
          },
          "id": 156,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.web/serverfarms\" and properties.numberOfSites == 0 and subscriptionId == \"$subscription\"\r\n| summarize count(type) by tostring(sku.name)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by SKU",
          "type": "piechart"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 32
          },
          "id": 38,
          "options": {
            "displayLabels": [],
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.web/serverfarms\" and properties.numberOfSites == 0 and subscriptionId == \"$subscription\"\r\n| summarize count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 38
          },
          "id": 40,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.web/serverfarms\" and properties.numberOfSites == 0 and subscriptionId == \"$subscription\"\r\n| summarize count(type) by tostring(sku.tier)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Tier",
          "type": "piechart"
        }
      ],
      "title": "App Service Plans",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 19
      },
      "id": 174,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 21
          },
          "id": 175,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources \r\n| where type =~ 'microsoft.web/hostingenvironments'  and subscriptionId == \"$subscription\"\r\n| extend servicePlanId = tostring(properties['servicePlan']['id']) \r\n| where servicePlanId == '' or isnull(servicePlanId)\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "kind"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Kind"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 21
          },
          "id": 177,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources \r\n| where type =~ 'microsoft.web/hostingenvironments'  and subscriptionId == \"$subscription\"\r\n| extend servicePlanId = tostring(properties['servicePlan']['id']) \r\n| where servicePlanId == '' or isnull(servicePlanId)\r\n| project name, resourceGroup, location, kind, id"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 27
          },
          "id": 176,
          "options": {
            "displayLabels": [],
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources \r\n| where type =~ 'microsoft.web/hostingenvironments'  and subscriptionId == \"$subscription\"\r\n| extend servicePlanId = tostring(properties['servicePlan']['id']) \r\n| where servicePlanId == '' or isnull(servicePlanId)\r\n| summarize count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "App Service Environments",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 20
      },
      "id": 42,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 21
          },
          "id": 43,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ 'Microsoft.Compute/availabilitySets' and properties.virtualMachines == \"[]\" and subscriptionId == \"$subscription\"\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 21
          },
          "id": 45,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ 'Microsoft.Compute/availabilitySets'\r\n| where properties.virtualMachines == \"[]\" and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, location, id\r\n| order by location asc, name asc, resourceGroup asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 27
          },
          "id": 44,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ 'Microsoft.Compute/availabilitySets' and properties.virtualMachines == \"[]\" and subscriptionId == \"$subscription\"\r\n| summarize count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "Availability Sets",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 21
      },
      "id": 4,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 22
          },
          "id": 33,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type has \"microsoft.compute/disks\"\r\n| extend diskState = tostring(properties.diskState)\r\n| where managedBy == \"\" and not(name endswith \"-ASRReplica\" or name startswith \"ms-asr-\" or name startswith \"asrseeddisk-\") and subscriptionId == \"$subscription\"\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "sku_name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 185
                  },
                  {
                    "id": "displayName",
                    "value": "SKU Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "properties_diskSizeGB"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 182
                  },
                  {
                    "id": "displayName",
                    "value": "Disk Size in GB"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "properties_timeCreated"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 261
                  },
                  {
                    "id": "displayName",
                    "value": "Time Created"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Time Created"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 179
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Disk Size in GB"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 126
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "SKU Name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 157
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 24,
            "w": 21,
            "x": 3,
            "y": 22
          },
          "id": 37,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type has \"microsoft.compute/disks\"\r\n| extend diskState = tostring(properties.diskState)\r\n| where managedBy == \"\" or diskState == 'Unattached'\r\n| where not(name endswith \"-ASRReplica\" or name startswith \"ms-asr-\" or name startswith \"asrseeddisk-\") and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, location, tostring(sku.name), properties.diskSizeGB, todatetime(properties.timeCreated), id"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "blue",
                    "value": null
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 28
          },
          "id": 35,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type has \"microsoft.compute/disks\"\r\n| extend diskState = tostring(properties.diskState)\r\n| where managedBy == \"\" and not(name endswith \"-ASRReplica\" or name startswith \"ms-asr-\" or name startswith \"asrseeddisk-\") and subscriptionId == \"$subscription\"\r\n| extend SizeGB = tolong(properties.diskSizeGB)\r\n| summarize ['Total Disk Size (GB)']=sum(SizeGB)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Disks Size (GB)",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 34
          },
          "id": 173,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type has \"microsoft.compute/disks\"\r\n| extend diskState = tostring(properties.diskState)\r\n| where managedBy == \"\" and not(name endswith \"-ASRReplica\" or name startswith \"ms-asr-\" or name startswith \"asrseeddisk-\") and subscriptionId == \"$subscription\"\r\n| summarize Count=count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 40
          },
          "id": 36,
          "options": {
            "displayMode": "lcd",
            "minVizHeight": 10,
            "minVizWidth": 0,
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": true
            },
            "showUnfilled": true,
            "valueMode": "color"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type has \"microsoft.compute/disks\"\r\n| extend diskState = tostring(properties.diskState)\r\n| where managedBy == \"\" and not(name endswith \"-ASRReplica\" or name startswith \"ms-asr-\" or name startswith \"asrseeddisk-\") and subscriptionId == \"$subscription\"\r\n| summarize Count=count(type) by DiskType=tostring(sku.name)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Type",
          "type": "bargauge"
        }
      ],
      "title": "Managed Disks",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 22
      },
      "id": 165,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 23
          },
          "id": 166,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/routetables\"\r\n| where isnull(properties.subnets) and subscriptionId == \"$subscription\"\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 23
          },
          "id": 168,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/routetables\"\r\n| where isnull(properties.subnets) and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, location, id\r\n| order by location asc, name asc, resourceGroup asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 29
          },
          "id": 167,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/routetables\"\r\n| where isnull(properties.subnets) and subscriptionId == \"$subscription\"\r\n| summarize count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "Load Balancers",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 23
      },
      "id": 169,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 24
          },
          "id": 170,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/loadbalancers\"\r\n| where properties.backendAddressPools == \"[]\" and subscriptionId == \"$subscription\"\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 24
          },
          "id": 172,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/loadbalancers\"\r\n| where properties.backendAddressPools == \"[]\" and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, location, id\r\n| order by location asc, name asc, resourceGroup asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 30
          },
          "id": 171,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/loadbalancers\"\r\n| where properties.backendAddressPools == \"[]\" and subscriptionId == \"$subscription\"\r\n| summarize count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "Route Tables",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 24
      },
      "id": 178,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 25
          },
          "id": 179,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ 'microsoft.network/applicationgateways' and subscriptionId == \"$subscription\"\r\n| extend backendPoolsCount = array_length(properties.backendAddressPools),SKUName= tostring(properties.sku.name), SKUTier= tostring(properties.sku.tier),SKUCapacity=properties.sku.capacity,backendPools=properties.backendAddressPools , AppGwId = tostring(id)\r\n| project AppGwId, name, SKUName, SKUTier, SKUCapacity\r\n| join (\r\n    resources\r\n    | where type =~ 'microsoft.network/applicationgateways' and subscriptionId == \"$subscription\"\r\n    | mvexpand backendPools = properties.backendAddressPools\r\n    | extend backendIPCount = array_length(backendPools.properties.backendIPConfigurations)\r\n    | extend backendAddressesCount = array_length(backendPools.properties.backendAddresses)\r\n    | extend backendPoolName  = backendPools.properties.backendAddressPools.name\r\n    | extend AppGwId = tostring(id)\r\n    | summarize backendIPCount = sum(backendIPCount) ,backendAddressesCount=sum(backendAddressesCount) by AppGwId\r\n) on AppGwId\r\n| project-away AppGwId1\r\n| where  (backendIPCount == 0 or isempty(backendIPCount)) and (backendAddressesCount==0 or isempty(backendAddressesCount))\r\n| summarize count()"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 25
          },
          "id": 181,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ 'microsoft.network/applicationgateways' and subscriptionId == \"$subscription\"\r\n| extend backendPoolsCount = array_length(properties.backendAddressPools),SKUName= tostring(properties.sku.name), SKUTier= tostring(properties.sku.tier),SKUCapacity=properties.sku.capacity,backendPools=properties.backendAddressPools , AppGwId = tostring(id)\r\n| project AppGwId, name, resourceGroup, location, id, SKUName, SKUTier, SKUCapacity\r\n| join (\r\n    resources\r\n    | where type =~ 'microsoft.network/applicationgateways' and subscriptionId == \"$subscription\"\r\n    | mvexpand backendPools = properties.backendAddressPools\r\n    | extend backendIPCount = array_length(backendPools.properties.backendIPConfigurations)\r\n    | extend backendAddressesCount = array_length(backendPools.properties.backendAddresses)\r\n    | extend backendPoolName  = backendPools.properties.backendAddressPools.name\r\n    | extend AppGwId = tostring(id)\r\n    | summarize backendIPCount = sum(backendIPCount) ,backendAddressesCount=sum(backendAddressesCount) by AppGwId\r\n) on AppGwId\r\n| project-away AppGwId1\r\n| where  (backendIPCount == 0 or isempty(backendIPCount)) and (backendAddressesCount==0 or isempty(backendAddressesCount))\r\n| project name, resourceGroup, location, id\r\n| order by location asc, name asc, resourceGroup asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 31
          },
          "id": 180,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ 'microsoft.network/applicationgateways' and subscriptionId == \"$subscription\"\r\n| extend backendPoolsCount = array_length(properties.backendAddressPools),SKUName= tostring(properties.sku.name), SKUTier= tostring(properties.sku.tier),SKUCapacity=properties.sku.capacity,backendPools=properties.backendAddressPools , AppGwId = tostring(id)\r\n| project AppGwId, name, SKUName, SKUTier, SKUCapacity, location\r\n| join (\r\n    resources\r\n    | where type =~ 'microsoft.network/applicationgateways' and subscriptionId == \"$subscription\"\r\n    | mvexpand backendPools = properties.backendAddressPools\r\n    | extend backendIPCount = array_length(backendPools.properties.backendIPConfigurations)\r\n    | extend backendAddressesCount = array_length(backendPools.properties.backendAddresses)\r\n    | extend backendPoolName  = backendPools.properties.backendAddressPools.name\r\n    | extend AppGwId = tostring(id)\r\n    | summarize backendIPCount = sum(backendIPCount) ,backendAddressesCount=sum(backendAddressesCount) by AppGwId\r\n) on AppGwId\r\n| project-away AppGwId1\r\n| where  (backendIPCount == 0 or isempty(backendIPCount)) and (backendAddressesCount==0 or isempty(backendAddressesCount))\r\n| summarize count() by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "Application Gateways",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 25
      },
      "id": 182,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 26
          },
          "id": 183,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/applicationgatewaywebapplicationfirewallpolicies\"\r\n| where subscriptionId == \"$subscription\"\r\n| where isnull(properties.applicationGateways) or properties.applicationGateways == \"[]\"\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 26
          },
          "id": 185,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/applicationgatewaywebapplicationfirewallpolicies\"\r\n| where subscriptionId == \"$subscription\"\r\n| where isnull(properties.applicationGateways) or properties.applicationGateways == \"[]\"\r\n| project name, resourceGroup, location, id\r\n| order by location asc, name asc, resourceGroup asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 32
          },
          "id": 184,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/applicationgatewaywebapplicationfirewallpolicies\"\r\n| where subscriptionId == \"$subscription\"\r\n| where isnull(properties.applicationGateways) or properties.applicationGateways == \"[]\"\r\n| summarize count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "Application Gateway WAF Policies",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 26
      },
      "id": 186,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 27
          },
          "id": 187,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/frontdoorwebapplicationfirewallpolicies\"\r\n  and properties.frontendEndpointLinks== \"[]\" \r\n  and properties.securityPolicyLinks == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 27
          },
          "id": 189,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/frontdoorwebapplicationfirewallpolicies\"\r\n  and properties.frontendEndpointLinks== \"[]\" \r\n  and properties.securityPolicyLinks == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, location, id\r\n| order by location asc, name asc, resourceGroup asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 33
          },
          "id": 188,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/frontdoorwebapplicationfirewallpolicies\"\r\n  and properties.frontendEndpointLinks== \"[]\" \r\n  and properties.securityPolicyLinks == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| summarize count(type) by tostring(sku.name)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by SKU",
          "type": "piechart"
        }
      ],
      "title": "Front Doors WAF Policies",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 27
      },
      "id": 190,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 28
          },
          "id": 191,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/trafficmanagerprofiles\"\r\n  and properties.endpoints == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 28
          },
          "id": 193,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/trafficmanagerprofiles\"\r\n  and properties.endpoints == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, location, id\r\n| order by location asc, name asc, resourceGroup asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 34
          },
          "id": 192,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/trafficmanagerprofiles\"\r\n  and properties.endpoints == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| summarize count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "Traffic Manager Profiles",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 28
      },
      "id": 194,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 29
          },
          "id": 195,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/virtualnetworks\"\r\n  and properties.subnets == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 29
          },
          "id": 197,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/virtualnetworks\"\r\n  and properties.subnets == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, location, id\r\n| order by location asc, name asc, resourceGroup asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 35
          },
          "id": 196,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/virtualnetworks\"\r\n  and properties.subnets == \"[]\"\r\n  and subscriptionId == \"$subscription\"\r\n| summarize count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "Virtual Networks",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 29
      },
      "id": 198,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 30
          },
          "id": 199,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/virtualnetworks\" and subscriptionId == \"$subscription\"\r\n| extend subnet = properties.subnets\r\n| mv-expand subnet\r\n| extend ipConfigurations = subnet.properties.ipConfigurations\r\n| extend delegations = subnet.properties.delegations\r\n| where isnull(ipConfigurations) and delegations == \"[]\"\r\n| summarize count(subnet)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 30
          },
          "id": 201,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/virtualnetworks\" and subscriptionId == \"$subscription\"\r\n| extend subnet = properties.subnets\r\n| mv-expand subnet\r\n| extend ipConfigurations = subnet.properties.ipConfigurations, \r\n         delegations = subnet.properties.delegations,\r\n         subnetName = tostring(subnet.name)\r\n| where isnull(ipConfigurations) and delegations == \"[]\"\r\n| project name = strcat(name, \"/\", subnetName), \r\n          resourceGroup, \r\n          location, \r\n          id=strcat(id, \"/subnets/\", subnetName)\r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 36
          },
          "id": 200,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/virtualnetworks\" and subscriptionId == \"$subscription\"\r\n| extend subnet = properties.subnets\r\n| mv-expand subnet\r\n| extend ipConfigurations = subnet.properties.ipConfigurations\r\n| extend delegations = subnet.properties.delegations\r\n| where isnull(ipConfigurations) and delegations == \"[]\"\r\n| summarize count(subnet) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "Subnets",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 30
      },
      "id": 202,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 31
          },
          "id": 204,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "Resources\r\n| where type has \"microsoft.network/networkinterfaces\"\r\n| where isnull(properties.privateEndpoint)\r\n| where isnull(properties.privateLinkService)\r\n| where properties.hostedWorkloads == \"[]\"\r\n| where properties !has 'virtualmachine'\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 31
          },
          "id": 206,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "Resources\r\n| where type has \"microsoft.network/networkinterfaces\"\r\n| where isnull(properties.privateEndpoint)\r\n| where isnull(properties.privateLinkService)\r\n| where properties.hostedWorkloads == \"[]\"\r\n| where properties !has 'virtualmachine'\r\n| project name, resourceGroup, location, id\r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 37
          },
          "id": 205,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "Resources\r\n| where type has \"microsoft.network/networkinterfaces\"\r\n| where isnull(properties.privateEndpoint)\r\n| where isnull(properties.privateLinkService)\r\n| where properties.hostedWorkloads == \"[]\"\r\n| where properties !has 'virtualmachine'\r\n| summarize count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "Network Interfaces",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 31
      },
      "id": 203,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 32
          },
          "id": 207,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/virtualnetworkgateways\" and subscriptionId == \"$subscription\"\r\n| extend vpnClientConfiguration = properties.vpnClientConfiguration\r\n| extend Resource = id\r\n| join kind=leftouter (\r\n    resources\r\n    | where type =~ \"microsoft.network/connections\"\r\n    | mv-expand Resource = pack_array(properties.virtualNetworkGateway1.id, properties.virtualNetworkGateway2.id) to typeof(string)\r\n    | project Resource, connectionId = id, ConnectionProperties=properties\r\n    ) on Resource                  \r\n| where isempty(vpnClientConfiguration) and isempty(connectionId)\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 32
          },
          "id": 209,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/virtualnetworkgateways\" and subscriptionId == \"$subscription\"\r\n| extend vpnClientConfiguration = properties.vpnClientConfiguration\r\n| extend Resource = id\r\n| join kind=leftouter (\r\n    resources\r\n    | where type =~ \"microsoft.network/connections\"\r\n    | mv-expand Resource = pack_array(properties.virtualNetworkGateway1.id, properties.virtualNetworkGateway2.id) to typeof(string)\r\n    | project Resource, connectionId = id, ConnectionProperties=properties\r\n    ) on Resource                  \r\n| where isempty(vpnClientConfiguration) and isempty(connectionId)\r\n| project name, resourceGroup, location, id\r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 38
          },
          "id": 208,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/virtualnetworkgateways\" and subscriptionId == \"$subscription\"\r\n| extend vpnClientConfiguration = properties.vpnClientConfiguration\r\n| extend Resource = id\r\n| join kind=leftouter (\r\n    resources\r\n    | where type =~ \"microsoft.network/connections\"\r\n    | mv-expand Resource = pack_array(properties.virtualNetworkGateway1.id, properties.virtualNetworkGateway2.id) to typeof(string)\r\n    | project Resource, connectionId = id, ConnectionProperties=properties\r\n    ) on Resource                  \r\n| where isempty(vpnClientConfiguration) and isempty(connectionId)\r\n| summarize count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "Virtual Network Gateways",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 32
      },
      "id": 210,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 45
          },
          "id": 211,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/networksecuritygroups\" and subscriptionId == \"$subscription\"\r\n| where isnull(properties.networkInterfaces) and isnull(properties.subnets)\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 45
          },
          "id": 213,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/networksecuritygroups\" and subscriptionId == \"$subscription\"\r\n| where isnull(properties.networkInterfaces) and isnull(properties.subnets)\r\n| project name, resourceGroup, location, id\r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 51
          },
          "id": 212,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/networksecuritygroups\" and subscriptionId == \"$subscription\"\r\n| where isnull(properties.networkInterfaces) and isnull(properties.subnets)\r\n| summarize count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "Network Security Groups",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 33
      },
      "id": 214,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 34
          },
          "id": 215,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/natgateways\" and subscriptionId == \"$subscription\"\r\n| where isnull(properties.subnets)\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 34
          },
          "id": 217,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/natgateways\" and subscriptionId == \"$subscription\"\r\n| where isnull(properties.subnets)\r\n| project name, resourceGroup, location, id\r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 40
          },
          "id": 216,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/natgateways\" and subscriptionId == \"$subscription\"\r\n| where isnull(properties.subnets)\r\n| summarize count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "NAT Gateways",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 34
      },
      "id": 218,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 47
          },
          "id": 219,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/publicipaddresses\" and subscriptionId == \"$subscription\"\r\n| where properties.ipConfiguration == \"\" and properties.natGateway == \"\" and properties.publicIPPrefix == \"\"\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 47
          },
          "id": 221,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/publicipaddresses\" and subscriptionId == \"$subscription\"\r\n| where properties.ipConfiguration == \"\" and properties.natGateway == \"\" and properties.publicIPPrefix == \"\"\r\n| project name, resourceGroup, location, id\r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 53
          },
          "id": 220,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/publicipaddresses\" and subscriptionId == \"$subscription\"\r\n| where properties.ipConfiguration == \"\" and properties.natGateway == \"\" and properties.publicIPPrefix == \"\"\r\n| summarize count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "Public IP Addresses",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 35
      },
      "id": 222,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 48
          },
          "id": 223,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/publicipprefixes\" and subscriptionId == \"$subscription\"\r\n| where properties.ipConfiguration == \"\" and properties.natGateway == \"\"\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 48
          },
          "id": 225,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/publicipprefixes\" and subscriptionId == \"$subscription\"\r\n| where properties.ipConfiguration == \"\" and properties.natGateway == \"\"\r\n| project name, resourceGroup, location, id\r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 54
          },
          "id": 224,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/publicipprefixes\" and subscriptionId == \"$subscription\"\r\n| where properties.ipConfiguration == \"\" and properties.natGateway == \"\"\r\n| summarize count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "Public IP Prefixes",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 36
      },
      "id": 226,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 37
          },
          "id": 227,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/ipgroups\" and subscriptionId == \"$subscription\"\r\n| where properties.firewalls == \"[]\" and properties.firewallPolicies == \"[]\"\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 37
          },
          "id": 229,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/ipgroups\" and subscriptionId == \"$subscription\"\r\n| where properties.firewalls == \"[]\" and properties.firewallPolicies == \"[]\"\r\n| project name, resourceGroup, location, id\r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 43
          },
          "id": 228,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/ipgroups\" and subscriptionId == \"$subscription\"\r\n| where properties.firewalls == \"[]\" and properties.firewallPolicies == \"[]\"\r\n| summarize count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "IP Groups",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 37
      },
      "id": 230,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 38
          },
          "id": 231,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/privatednszones\" and subscriptionId == \"$subscription\"\r\n| where properties.numberOfVirtualNetworkLinks == 0\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 38
          },
          "id": 233,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/privatednszones\" and subscriptionId == \"$subscription\"\r\n| where properties.numberOfVirtualNetworkLinks == 0\r\n| project name, resourceGroup, location, id\r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 44
          },
          "id": 232,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type == \"microsoft.network/privatednszones\" and subscriptionId == \"$subscription\"\r\n| where properties.numberOfVirtualNetworkLinks == 0\r\n| summarize count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "Private DNS Zones",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 38
      },
      "id": 234,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 39
          },
          "id": 235,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/privateendpoints\" and subscriptionId == \"$subscription\"\r\n| extend connection = iff(array_length(properties.manualPrivateLinkServiceConnections) > 0, properties.manualPrivateLinkServiceConnections[0], properties.privateLinkServiceConnections[0])\r\n| extend stateEnum = tostring(connection.properties.privateLinkServiceConnectionState.status)\r\n| where stateEnum == \"Disconnected\"\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 39
          },
          "id": 237,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/privateendpoints\" and subscriptionId == \"$subscription\"\r\n| extend connection = iff(array_length(properties.manualPrivateLinkServiceConnections) > 0, properties.manualPrivateLinkServiceConnections[0], properties.privateLinkServiceConnections[0])\r\n| extend stateEnum = tostring(connection.properties.privateLinkServiceConnectionState.status)\r\n| where stateEnum == \"Disconnected\"\r\n| project name, resourceGroup, location, id\r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 45
          },
          "id": 236,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ \"microsoft.network/privateendpoints\" and subscriptionId == \"$subscription\"\r\n| extend connection = iff(array_length(properties.manualPrivateLinkServiceConnections) > 0, properties.manualPrivateLinkServiceConnections[0], properties.privateLinkServiceConnections[0])\r\n| extend stateEnum = tostring(connection.properties.privateLinkServiceConnectionState.status)\r\n| where stateEnum == \"Disconnected\"\r\n| summarize count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "Private Endpoints",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 39
      },
      "id": 238,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 40
          },
          "id": 239,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources \r\n| where type =~ 'Microsoft.Network/privateLinkServices' and subscriptionId == \"$subscription\"\r\n| extend peConnectionsCount = array_length(properties.privateEndpointConnections) \r\n| where peConnectionsCount == 0 \r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 40
          },
          "id": 241,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources \r\n| where type =~ 'Microsoft.Network/privateLinkServices' and subscriptionId == \"$subscription\"\r\n| extend peConnectionsCount = array_length(properties.privateEndpointConnections) \r\n| where peConnectionsCount == 0 \r\n| project name, resourceGroup, location, id\r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 46
          },
          "id": 240,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources \r\n| where type =~ 'Microsoft.Network/privateLinkServices' and subscriptionId == \"$subscription\"\r\n| extend peConnectionsCount = array_length(properties.privateEndpointConnections) \r\n| where peConnectionsCount == 0 \r\n| summarize count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "Private Link Services",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 40
      },
      "id": 242,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 53
          },
          "id": 243,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ 'microsoft.sql/servers/elasticpools' and subscriptionId == \"$subscription\"\r\n| project elasticPoolId = tolower(id), Resource = id, type\r\n| extend Details = pack_all()\r\n| join kind=leftouter (resources\r\n| where type =~ 'Microsoft.Sql/servers/databases' and subscriptionId == \"$subscription\"\r\n| project id, properties\r\n| extend elasticPoolId = tolower(properties.elasticPoolId)) on elasticPoolId\r\n| summarize databaseCount = countif(id != '') by Resource, type\r\n| where databaseCount == 0\r\n| project-away databaseCount\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 53
          },
          "id": 245,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ 'microsoft.sql/servers/elasticpools' and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, type, location, id, elasticPoolId = tolower(id)\r\n| extend Details = pack_all()\r\n| join kind=leftouter (resources\r\n| where type =~ 'Microsoft.Sql/servers/databases' and subscriptionId == \"$subscription\"\r\n| project id, properties\r\n| extend elasticPoolId = tolower(properties.elasticPoolId)) on elasticPoolId\r\n| summarize databaseCount = countif(id != '') by name, id, type, location\r\n| where databaseCount == 0\r\n| order by location asc, name asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 59
          },
          "id": 244,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resources\r\n| where type =~ 'microsoft.sql/servers/elasticpools' and subscriptionId == \"$subscription\"\r\n| project name, resourceGroup, type, location, id, elasticPoolId = tolower(id)\r\n| extend Details = pack_all()\r\n| join kind=leftouter (resources\r\n| where type =~ 'Microsoft.Sql/servers/databases' and subscriptionId == \"$subscription\"\r\n| project id, properties\r\n| extend elasticPoolId = tolower(properties.elasticPoolId)) on elasticPoolId\r\n| summarize databaseCount = countif(id != '') by name, id, type, location\r\n| where databaseCount == 0\r\n| summarize count = count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "SQL Elastic Pools",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 41
      },
      "id": 161,
      "panels": [
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 54
          },
          "id": 162,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "center",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resourceContainers\r\n| where type == \"microsoft.resources/subscriptions/resourcegroups\" and subscriptionId == \"$subscription\"\r\n| extend rgAndSub = strcat(resourceGroup, \"--\", subscriptionId)\r\n| join kind=leftouter (\r\n    resources\r\n    | extend rgAndSub = strcat(resourceGroup, \"--\", subscriptionId)\r\n    | summarize resourceCount=count() by rgAndSub\r\n) on rgAndSub\r\n| where resourceCount == 0 or isnull(resourceCount)\r\n| summarize count(type)"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Total",
          "transformations": [],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "#ffffff",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "color-text"
                },
                "filterable": true,
                "inspect": true,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Name"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "resourceGroup"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  },
                  {
                    "id": "displayName",
                    "value": "Resource Group"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "location"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 120
                  },
                  {
                    "id": "displayName",
                    "value": "Location"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "id"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Id"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 21,
            "x": 3,
            "y": 54
          },
          "id": 164,
          "options": {
            "cellHeight": "md",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resourceContainers\r\n| where type == \"microsoft.resources/subscriptions/resourcegroups\" and subscriptionId == \"$subscription\"\r\n| extend rgAndSub = strcat(resourceGroup, \"--\", subscriptionId)\r\n| join kind=leftouter (\r\n    resources\r\n    | extend rgAndSub = strcat(resourceGroup, \"--\", subscriptionId)\r\n    | summarize resourceCount=count() by rgAndSub\r\n) on rgAndSub\r\n| where resourceCount == 0 or isnull(resourceCount)\r\n| project name, resourceGroup, location, id\r\n| order by location asc, name asc, resourceGroup asc"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Resources",
          "type": "table"
        },
        {
          "datasource": {
            "type": "grafana-azure-monitor-datasource",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 60
          },
          "id": 163,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.17",
          "targets": [
            {
              "azureMonitor": {
                "allowedTimeGrainsMs": [],
                "timeGrain": "auto"
              },
              "azureResourceGraph": {
                "query": "resourceContainers\r\n| where type == \"microsoft.resources/subscriptions/resourcegroups\" and subscriptionId == \"$subscription\"\r\n| extend rgAndSub = strcat(resourceGroup, \"--\", subscriptionId)\r\n| join kind=leftouter (\r\n    resources\r\n    | extend rgAndSub = strcat(resourceGroup, \"--\", subscriptionId)\r\n    | summarize resourceCount=count() by rgAndSub\r\n) on rgAndSub\r\n| where resourceCount == 0 or isnull(resourceCount)\r\n| summarize count(type) by location"
              },
              "datasource": {
                "type": "grafana-azure-monitor-datasource",
                "uid": "${datasource}"
              },
              "hide": false,
              "queryType": "Azure Resource Graph",
              "refId": "A",
              "subscriptions": [
                "$subscription"
              ]
            }
          ],
          "title": "Count by Location",
          "type": "piechart"
        }
      ],
      "title": "Resource Groups",
      "type": "row"
    }
  ],
  "refresh": "1m",
  "schemaVersion": 38,
  "style": "dark",
  "tags": [],
  "templating": {
    "list": [
      {
        "current": {
          "selected": false,
          "text": "Azure Monitor",
          "value": "Azure Monitor"
        },
        "hide": 0,
        "includeAll": false,
        "label": "Data Source",
        "multi": false,
        "name": "datasource",
        "options": [],
        "query": "grafana-azure-monitor-datasource",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "type": "datasource"
      },
      {
        "current": {
          "selected": false,
          "text": "FTA PAOLOS - Azure CXP Internal",
          "value": "1a45a694-ae23-4650-9774-89a571c462f6"
        },
        "datasource": {
          "type": "grafana-azure-monitor-datasource",
          "uid": "${datasource}"
        },
        "definition": "",
        "hide": 0,
        "includeAll": false,
        "label": "Subscription",
        "multi": false,
        "name": "subscription",
        "options": [],
        "query": {
          "azureLogAnalytics": {
            "query": "",
            "resources": []
          },
          "queryType": "Azure Subscriptions",
          "refId": "A"
        },
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "type": "query"
      }
    ]
  },
  "time": {
    "from": "now-5m",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "",
  "title": "Azure / Orphan Resources",
  "uid": "cde25996-6a71-42c4-92ce-5e83cf416dce",
  "version": 65,
  "weekStart": ""
}